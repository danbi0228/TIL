# 연산자(operator)

## 1. 연산자

### 1.1 연산자와 피연산자
> - <b>연산자(operator)</b> : 연산을 수행하는 기호(+,-,*,/ 등)
> - <b>피연산자(operand)</b> : 연산자의 직업 대상(변수, 상수, 리터럴, 수식)
> <br>
> 
> 연산자는 피연산자로 연산을 수행하고 나면 항상 결과값을 반환

### 1.2 연산자의 종류

| 종류         | 연산자                | 설명                              |
|------------|-----------------------|---------------------------------|
| 산술 연산자   | + - * / % << >>       | 사칙 연산(+, -, *, /)과 나머지 연산(%)    |
| 비교 연산자   | > < >= <= == !=       | 크고 작음과 같고 다름을 비교                |
| 논리 연산자   | && ││ ! & │ ^ ~     | '그리고(AND)'와 '또는(OR)'으로 조건을 연결   |
| 대입 연산자   | =                     | 우변의 값을 좌변에 저장                   |
| 기타         | (type) ? : instanceof | 형변환 연산자, 삼항 연산자, instanceof 연산자 |


### 1.3 연산자 우선순위
1. 산술 → 비교 → 논리 → 대입, 대입은 제일 마지막에 수행
2. 단항(1) → 이항(2) → 삼항(→), 단항 연산자의 우선순위가 이항 연산자보다 높음
3. 단항 연산자와 대입 연산자를 제외한 모든 연산의 진행방향은 왼쪽에서 오른쪽

### 1.4 산술 변환(usual arithmetic conversion)
이항 연산자의 두 피연산자는 서로 타입이 일치해야 하므로 연산전에 형변환 연산자로 타입을 일치시킨다.<br>
대부분의 경우 두 피연산자의 타입 중 더 큰 타입으로 일치시킨다. (작은 타입으로 형변환 시 원래의 값이 손실될 가능성이 있음)
```
int i = 10;
float f = 20.0f;

float result = f + (float) i;   // 형변환으로 두 피연산자의 타입을 일치시킴
float result = f + i;           // 큰 타입으로 형변환시, 형변환 연산자 생략 가능
```

- 산술 변환
  - 두 피연산자의 타입을 같게 일치시킨다 → 보다 큰 타입으로 일치시킴
  - 피연산자의 타입이 int보다 작은 타입이면 int로 변환된다


## 2. 단항 연산자

### 2.1 증감 연산자 : ++, --
1. 증감 연산자(++) : 피연산자의 값을 1 증가
2. 감소 연산자(--) : 피연산자의 값을 1 감소
    - <b>전위형</b> ( j = ++i; ) : 값이 참조되기 전에 증가
    - <b>후위형</b> ( j = i++; ) : 값이 참조된 후에 증가

### 2.2 부호 연산자 : +, -
 : boolean형과 char형을 제외한 기본형에만 사용 가능


## 3. 산술 연산자

### 3.1 사칙연산자 + - * /
    곱셈(*), 나눗셈(/), 나머지(%) 연산자가 덧셈(+), 뺄셈(-)연산자보다 우선순위가 높아서 먼저 처리    
    피연산자가 정수인 경우 나누는 수로 0을 사용할 수 없음 → 에러 발생

```
int a = 1_000_000;  // 1,000,000
int b = 2_000_000;  // 2,000,000

long c = a * b;     // c = -1454759936
// 'a * b'의 결과가 이미 int 타입의 값(-1454759936)이므로 long형으로 자동형변환되어도 값이 변하지 않음

→ long c = (long) a * b;
→ long c = (long)1000000 * 2000000;
→ long c = 1000000L * 2000000L
→ long c = 2000000000000L;
```

### 3.2 나머지 연산자 %
    나머지 연산자는 왼쪽의 피연산자를 오른쪽 피연산자로 나누고 난 나머지 값을 결과로 반환하는 연산자
    나누는 수(오른쪽 피연산자)로 0을 사용할 수 없다.
    나머지 연산자는 주로 짝수, 홀수 또는 배수 검사 등에 주로 사용


## 4. 비교 연산자

### 4.1 대소비교 연산자 : <, >, <=, >=
    두 피연산자의 값의 크기를 비교하는 연산자, 참이면 true 거짓이면 false를 결과로 반환
    기본형 중에선 boolean을 제외한 나머지 자료형에서 사용 가능하지만 참조형에서는 사용할 수 없다.

1. <b>＞</b> : 좌변 값이 크면 true, 아니면 false
2. <b>＜</b> : 좌변 값이 작으면 true, 아니면 false
3. <b>＞=</b> : 좌변 값이 크거나 같으면 true, 아니면 false
4. <b>＜=</b> : 좌변 값이 작거나 같으면 true, 아니면 false

### 4.2 등가비교 연산자 : ==, !=
    두 피연산자의 값이 같은지, 다른지 비교하는 연산자
    대소비교 연산자와는 달리 기본형, 참조형 즉 모든 자료형에 사용 가능
1. <b>==</b> : 두 값이 같으면 true 아니면 false
2. <b>!=</b> : 두 값이 다르면 true 아니면 false

```
float f = 0.1f;
double d = 0.1;

System.out.printf("d==f %b%n", d==f);   // false

float f = 0.1f;     // f에 0.10000000149011612로 저장
double d = 0.1;     // d에 0.10000000000000001로 저장
```

#### 문자열의 비교
    두 문자열을 비교할 때는 비교 연산자(==) 대신 equals()라는 메서드를 사용해야 한다. 같으면 true, 다르면 false를 반환

```
String str1 = "abc";
String str2 = new String("abc");

// '=='로 비교하면 false, equals()로 비교하면 true
// 대소문자를 구별하지 않고 비교 → equalsIgnoreCase() 사용
```


## 5. 논리 연산자

### 5.1 논리연산자 : &&, ||, !
1. <b>|| (OR)</b> : 피연산자 중 어느 한 쪽만 true이면 true
2. <b>&& (AND)</b> : 피연산자 양쪽 모두 true일 때 true


| x      | y      | x││ y  | x && y  |
|--------|--------|---------|---------|
| true   | true   | true    | true    |
| true   | false  | true    | false   |
| false  | true   | true    | false   |
| false  | false  | false   | false   |

### 5.2 비트 연산자 : &, |, ^, ~, <<, >>
    비트 연산자는 피연산자를 비트 단위로 논리 연산, 실수는 허용하지 않고 정수(문자 포함)만 허용
1. <b>| (OR연산자)</b> : 피연산자 중 한 쪽의 값이 1이면 1을 결과로 얻음, 그 외에는 0
2. <b>& (AND연산자)</b> : 피연산자 양 쪽이 모두 1일때 1을 결과로 얻음, 그 외에는 0
3. <b>^ (XOR연산자)</b> : 피연산자의 값이 서로 다를 때만 1을 결과로 얻음, 같을 때는 0

#### 비트 전환 연산자 : ~
    피연산자를 2진수로 표현했을 때, 0은 1로, 1은 0으로 바꾼다. 논리부정 연산자 '!'와 유사

#### 쉬프트 연산자 : <<, >>
    피연산자의 각 자리(2진수로 표현했을 떄)를 오른쪽(>>) 또는 왼쪽(<<)으로 이동(shift)한다고해서 쉬프트 연산자
    ex) '8 << 2'는 왼쪽 피연산자인 10진수 8의 2진수를 왼쪽으로 2자리 이동,
        자리이동으로 저장범위를 벗어난 값들은 버려지고 빈자리는 0으로 채워진다.


## 6. 그 외의 연산자

### 6.1 조건 연산자 ?:
    조건식 ? 식1 : 식2
    → 조건식의 결과가 true이면 식1, false이면 식2가 결과로 반환된다.
    
    result = (x > y) ? x : y;
    → 'x > y'가 true이면 result에 x의 값이 저장, false이면 y의 값이 저장된다.

### 6.2 대입 연산자 = op=
    변수와 같은 저장공간에 값 또는 수식의 연산결과를 저장하는데 사용
    이 연산자는 오른쪽 피연산자의 값을 왼쪽 피연산자에 저장한다. 그리고 저장된 값을 연산결과로 반환.
    대입 연산자는 연산자들 중에서 가장 낮은 우선순위를 가지고 있기 때문에 식에서 가장 나중에 수행된다.

#### lvalue와 rvalue
: 대입 연산자의 왼쪽 피연산자를 lvalue(left value), 오른쪽 피연산자를 rvalue(right value) 라고 한다.
<br> rvalue는 변수뿐만 아니라 식, 상수 모두 가능. lvalue는 반드시 변수처럼 값을 변경할 수 있는 것이어야 한다.
<br> x = 3 → (x는 lvalue, 3은 rvalue)

#### 복합 대입 연산자


| op=          | =                 |
|--------------|-------------------|
| i += 3;      | i = i + 3;        |
| i -= 3;      | i = i - 3;        |
| i *= 3;      | i = i * 3;        |
| i /= 3;      | i = i / 3;        |
| i %= 3;      | i = i % 3;        |
| i <<= 3;     | i = i << 3;       |
| i >>= 3;     | i = i >> 3;       |
| i &= 3;      | i = i & 3;        |
| i ^= 3;      | i = i ^ 3;        |
| i │= 3;      | i = i │ 3;        |
| i *= 10 + j; | i = i * (10 + j); |
